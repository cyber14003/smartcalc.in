<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Loan EMI Calculator India</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Loan EMI Calculator with interest breakup and pie chart for India.">

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}
.container {
  max-width: 500px;
  background: #fff;
  padding: 20px;
  margin: auto;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
input, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
}
button {
  background: #007bff;
  color: #fff;
  border: none;
  cursor: pointer;
}
.result {
  margin-top: 15px;
  font-weight: bold;
}
canvas {
  margin-top: 20px;
}
</style>
</head>

<body>

<div class="container">
  <h2>Loan EMI Calculator</h2>

  <input type="number" id="amount" placeholder="Loan Amount (₹)">
  <input type="number" id="rate" placeholder="Interest Rate (%)">
  <input type="number" id="tenure" placeholder="Tenure (Years)">

  <button onclick="calculateEMI()">Calculate EMI</button>

  <div class="result" id="emi"></div>
  <div class="result" id="interest"></div>
  <div class="result" id="total"></div>

  <canvas id="emiChart"></canvas>
</div>

<script>
let chart;

function calculateEMI() {
  let P = parseFloat(document.getElementById("amount").value);
  let R = parseFloat(document.getElementById("rate").value) / 12 / 100;
  let N = parseFloat(document.getElementById("tenure").value) * 12;

  if (!P || !R || !N) {
    alert("Please enter all values");
    return;
  }

  let EMI = (P * R * Math.pow(1 + R, N)) /
            (Math.pow(1 + R, N) - 1);

  let totalPayment = EMI * N;
  let totalInterest = totalPayment - P;

  document.getElementById("emi").innerHTML =
    "Monthly EMI: ₹" + EMI.toFixed(2);

  document.getElementById("interest").innerHTML =
    "Total Interest: ₹" + totalInterest.toFixed(2);

  document.getElementById("total").innerHTML =
    "Total Payment: ₹" + totalPayment.toFixed(2);

  drawChart(P, totalInterest);
}

function drawChart(principal, interest) {
  let ctx = document.getElementById("emiChart").getContext("2d");

  if (chart) {
    chart.destroy();
  }

  chart = new Chart(ctx, {
    type: "pie",
    data: {
      labels: ["Principal Amount", "Total Interest"],
      datasets: [{
        data: [principal, interest],
        backgroundColor: ["#28a745", "#dc3545"]
      }]
    },
    options: {
      responsive: true
    }
  });
}
</script>

</body>
</html>
